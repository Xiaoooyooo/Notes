# Linux

47.106.160.27

### Linux 指令格式

**\# [指令]  [选项]  [操作对象]**

#### 基础指令

**指令一：ls [选项] [路径]**

> 选项说明：
> 	-l	显示所有文件
> 	-a	显示包括隐藏文件在内的所有文件

**指令二：pwd**

> 显示当前工作目录，无选项

**指令三：cd [路径]**

**指令四：mkdir [路径]**

**指令五：touch [文件路径]**

> 创建文件

**指令六：cp [选项] [被复制文件路径] [复制到的路径]**

> 选项说明：
> 	-r	递归复制文件夹，当被复制的文件夹包含多级目录时，使用该选项将会把子目录一同复制

**指令七：mv [选项] [被移动文档路径] [移动到的路径]**

> 选项说明：
> 	-b 	若需覆盖文件，则覆盖前先行备份。 
> 	-f	 force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
> 	-i 	若目标文件已经存在时，就会询问是否覆盖！
> 	-u 	若目标文件已经存在，且 source 比较新，才会更新(update)
>     -t  	指定mv的目标目录，该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后。

**指令八：rm [选项] [被移除的文档路径]**

> 选项说明：
> 	-i	删除前逐一询问确认
> 	-f	强制移除
> 	-r	递归移除文件夹，当前文件夹下所有的文件夹都会被移除

**指令九：cat [选项] [文件路径]**

> 查看指定路径的文件，不可编辑
> 选项说明：
> -n 或 --number	由 1 开始对所有输出的行数编号。
> -b 或 --number-nonblank	和 -n 相似，只不过对于空白行不编号。
> -s 或 --squeeze-blank	当遇到有连续两行以上的空白行，就代换为一行的空白行。
> -v 或 --show-nonprinting	使用 ^ 和 M- 符号，除了 LFD 和 TAB 之外。
> -E 或 --show-ends	在每行结束处显示 $。
> -T 或 --show-tabs	将 TAB 字符显示为 ^I。
> -A, --show-all	等价于 -vET。
> -e	等价于"-vE"选项；
> -t	等价于"-vT"选项；

**指令十：[指令] >/>> [路径]**

> 输出重定向：将输出到终端界面上的消息重定向到指定的文件
> \>	输出并覆盖指定文件
> \>>	追加输出到指定问价末尾

#### 进阶指令

**指令一：df [选项]**

> 查看磁盘空间信息
> 选项说明：
> 	-h	以可读性较高的形式展示

**指令二：free [选项]**

> 查看内存
> 选项说明：
> 	-m	以MB为单位查看

**指令三：head [选项] [文件路径]**

> 查看一个文件的前n行
> 选项说明：
> 	-n	n表示数字，查看文件的前n行

**指令四：tail [选项] 文件路径**

> 查看文件的后n行，一般用于查看系统日志
> 选项说明：
> 	-n	n表示数字，查看文件尾部的n行
> 	-f	动态监测指定文件的变化，变化的内容不能是用户手动增加的

**指令五：less [文件路径]**

> 查看文件，能随意浏览

**指令六：wc [选项] [文件路径]**

> 统计文件内容信息
> 选项说明：
> 	-l	lines，行数
> 	-w	words，词数
> 	-c	bytes，字节数

**指令七：date**

> 操作时间和日期（**读取**、设置）
> 	语法：
> 			date	输出	xxxx年xx月xx日 星期x hh:mm:ss
> 			date +%F	输出	yyyy-mm-r
> 			date "+%F %T"	输出	yyyy-mm-dd hh:mm:ss

**指令八：cal [选项]**

> 操作日历
> 	-1	数字1，输出本月日历
> 	-3	数字3，输出上个月、下个月、本月日历
> 	-y	输出一年的日历

**指令九：clear**

> 清空终端

**管道符：|**

> 不能单独使用
> 一般用于过滤、特殊、扩展处理
>
> 用法：
> 	过滤：ls / | grep y	从即将输出的信息中过滤出包含y字符的信息
> 		**grep** 表示过滤

#### 高级指令

**1.  hostname**

> 作用：操作服务器的主机名（读取，设置）
>
> 常用命令：
> 	hostname	显示完整的主机名
> 	hostname -f	显示当前主机名中的全限定域名

**2.  id**

> 作用：查看一个用户的基本信息（用户id、用户组id、附加组id）
>
> 常用命令：
> 	id	显示当前执行该命令的用户的 id 信息
> 	id [用户名]	显示指定用户的 id 信息

**3.  whoami**

> 作用：显示当前登录的用户名，一般用于shell脚本

**4.  ps -ef**

> 作用：用于查看服务器的进程信息
>
> 选项：
> 	-e	表示列出全部信息
> 	-f	显示全部的列（全字段）
>
> 常用命令：
> 	ps -ef | grep 进程名	从进程信息中筛选出想要的信息

**5.  top**

> 作用：查看服务器的进程所占的资源
>
> 常用命令：
> 	top	进入动态监听进程页面，q退出

**6.  du -sh**

> 作用：查看目录的真实大小
>
> 选项：
> 	-s	只显示汇总的大小
> 	-h	以较高可读性显示
>
> 常用命令：
> 	du -sh [路径]	查看指定目录下文档的真实大小

**7.  find**

> 作用：查找文件
>
> 选项：
> 	-name	按照文档名称进行搜索（支持模糊搜索）
> 	-type	按照文档类型进行搜索
> 			**f** 表示文件，**d** 表示文件夹
>
> 常用命令：
> 	find [范围] [选项] [文档名称]	在指定范围内搜索指定文档

**8.  service**

> 作用：控制一些软件的服务
>
> 常用命令：
> 	service [服务名] start/stop/restart

**9.  kill**

> 作用：终止进程
>
> 常用命令：
> 	kill [进程pid]
> 	killall [进程名]	作用更好

**10.  ifconfig**

> 作用：获取网卡信息

**11.  reboot**

> 作用：重新启动计算机

**12.  shutdown（慎用）**

> 作用：关机

**13.  uptime**

> 作用：输出计算机的持续在线时间

**14.  uname**

> 作用：获取操作系统相关信息
>
> 选项：
> 	-a	表示获取完整的系统信息

**15.  netstat -tnlp**

> 作用：查看网络连接状态
>
> 选项：
> 	-t	只列出 tcp 协议的连接
> 	-n	将地址转为 ip 形式
> 	-l	只显示状态值（State）为 LISTEN 的连接
> 	-p	显示发起连接进程的 pid 和进程名称

**16.  man**

> 作用：手册，包含了linux中全部命令手册，英文

#### Vim

**Vim中的三种模式：命令模式、编辑模式、末行模式**

> **命令模式：**不能对文件进行直接编辑，可以输入快捷键进行一些操作（删除行、复制行、移动光标、粘贴等），打开文件默认进入的模式。
>
> **编辑模式：**可对文件内容进行编辑
>
> **末行模式：**在末行输入命令对文件进行操作（搜索，替换，保存，退出，撤销，高亮等）

+ 命令模式

  直接打开文件即可进入该模式

+ 末行模式

  > :w	保存
  > :w [目录]	另存为
  > :q	退出
  > :q!	强制退出，不做保存
  > /关键词	搜索（按n键查找下一个）
  > :nohl	取消高亮
  > :set nu	显示行号
  > :set nonu	取消行号
  > :files	显示当前打开的文件
  >
  > 
  >
  > **替换：**
  > :s/被替换关键词 / 新内容	替换光标所在行的第一处符合条件的内容
  > :s/被替换关键词 / 新内容/g	替换光标所在行的全部符合条件的内容
  > :%s/被替换关键词 / 新内容	替换整个文档中每行第一个符合条件的内容
  > :%s/被替换关键词 / 新内容/g	替换整个文档中符合条件的内容
  >
  > 

#### 用户管理

**三个重要文件：**

+ /etc/passwd	储存用户关键信息
+ /etc/group    储存用户组关键信息
+ /etc/shadow    储存用户密码信息

**用户管理**

+ 添加用户：

  useradd [选项] [用户名]

  > 选项：
  > -g	指定用户的用户主组
  > -G	指定用户的附加组
  > -u	用户的 id ，标志符



#### 文件解压

> .gz 	=>	tar -zxvf xxxx.gz
> .xz	=>	xz -d  xxxxx.tar.xz	然后	tar  -xvf    xxxxx.tar
> 				或 tar   xvJf   xxxxx.tar.xz